{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="layout-wrapper layout-content-navbar">
  <div class="layout-container">

    {% include 'inc/side_nav.html' %}

    <div class="layout-page">
      {% include 'inc/header.html' %}

      <div class="content-wrapper">
        <div class="container-xxl flex-grow-1 container-p-y">

          <h5 class="fw-semibold mb-4">Enroll New Worker</h5>

          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <!-- 1) Personal Information & ID -->
            <div class="card bg-transparent border shadow-sm mb-4">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">1. Personal Information &amp; ID</h6>
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label">First Name</label>
                    {{ form.first_name }}{{ form.first_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Last Name</label>
                    {{ form.last_name }}{{ form.last_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Phone Number</label>
                    {{ form.phone_number }}{{ form.phone_number.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Email</label>
                    {{ form.email }}{{ form.email.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Date of Birth</label>
                    {{ form.date_of_birth }}{{ form.date_of_birth.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Place of Birth</label>
                    {{ form.place_of_birth }}{{ form.place_of_birth.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Nationality</label>
                    {{ form.nationality }}{{ form.nationality.errors }}
                  </div>
                  <div class="col-md-8">
                    <label class="form-label">Home Address</label>
                    {{ form.home_address }}{{ form.home_address.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Landmark</label>
                    {{ form.landmark }}{{ form.landmark.errors }}
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">ECOWAS ID No.</label>
                    {{ form.ecowas_id_card_no }}{{ form.ecowas_id_card_no.errors }}
                  </div>
                  <div class="col-md-3">
                    <label class="form-label">ECOWAS ID Photo</label>
                    {{ form.ecowas_id_card_photo }}{{ form.ecowas_id_card_photo.errors }}
                  </div>
                  <div class="col-md-3">
                    <label class="form-label">Passport Photo</label>
                    {{ form.passport_photo }}{{ form.passport_photo.errors }}
                  </div>
                </div>
              </div>
            </div>

            <!-- 2) Educational Information -->
            <div class="card bg-transparent border shadow-sm mb-4">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">2. Educational Information</h6>
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">School Name</label>
                    {{ form.school_name }}{{ form.school_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Location</label>
                    {{ form.school_location }}{{ form.school_location.errors }}
                  </div>
                  <div class="col-md-2">
                    <label class="form-label">Year Completed</label>
                    {{ form.year_completed }}{{ form.year_completed.errors }}
                  </div>
                </div>
              </div>
            </div>

            <!-- 3) Employment Information -->
            <div class="card bg-transparent border shadow-sm mb-4">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">3. Last Employment</h6>
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label">Branch</label>
                    {{ form.branch }}{{ form.branch.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Company Name</label>
                    {{ form.employer_name }}{{ form.employer_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Contact #</label>
                    {{ form.contact_number }}{{ form.contact_number.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Location</label>
                    {{ form.location }}{{ form.location.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Your Role</label>
                    {{ form.position }}{{ form.position.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Last Work Date</label>
                    {{ form.last_date_of_work }}{{ form.last_date_of_work.errors }}
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Office/Home Address</label>
                    {{ form.home_office_address }}{{ form.home_office_address.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Why did you leave?</label>
                    {{ form.reason_for_leaving }}{{ form.reason_for_leaving.errors }}
                  </div>
                  <div class="col-md-2 d-flex align-items-center">
                    <div class="form-check mt-2">
                      {{ form.may_we_contact }}
                      <label class="form-check-label">May we contact?</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 4) Reference -->
            <div class="card bg-transparent border shadow-sm mb-4">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">4. Reference</h6>
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label">Full Name</label>
                    {{ form.ref_full_name }}{{ form.ref_full_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Mobile #</label>
                    {{ form.ref_mobile_number }}{{ form.ref_mobile_number.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Address</label>
                    {{ form.ref_address }}{{ form.ref_address.errors }}
                  </div>
                </div>
              </div>
            </div>

            <!-- 5) Guarantor -->
            <div class="card bg-transparent border shadow-sm mb-4">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">5. Guarantor</h6>
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label">Full Name</label>
                    {{ form.gua_full_name }}{{ form.gua_full_name.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Mobile #</label>
                    {{ form.gua_mobile_number }}{{ form.gua_mobile_number.errors }}
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Address</label>
                    {{ form.gua_address }}{{ form.gua_address.errors }}
                  </div>
                </div>
              </div>
            </div>

            <!-- 6) Acknowledgement -->
            <div class="card bg-transparent border shadow-sm mb-5">
              <div class="card-body">
                <h6 class="card-title text-muted mb-3">6. Acknowledgement &amp; Authorization</h6>
                <p class="small">I certify that all information given are true and complete to the best of my knowledge.</p>
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">Signature</label>
                    <input type="text" class="form-control" placeholder="Type your name">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" value="{{ today|date:'Y-m-d' }}">
                  </div>
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary btn-lg">Submit Enrollment</button>
          </form>

        </div>
        {% include 'inc/footer.html' %}
        <div class="content-backdrop fade"></div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
